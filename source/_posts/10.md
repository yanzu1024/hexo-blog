---
title: 第八弹
data: 2025-02-20 19:46:00
updated: 2025-02-20 19:46:00
type: ROS2
top_img:
cover: http://picbed.yanzu.tech/img/post_cover/p10.png
tags:
  - ROS2
  - Learning
---

# 话题

### 一个话题包含了发布节点、订阅节点、话题名称和话题类型四个方面

> ### 小海龟示例
>
> ### 启动小海龟模拟器
>
> ```shell
> ros2 run turtlesim turtlesim_node
> ```
>
> ![](http://picbed.yanzu.tech/img/learn_ros2/pic_15.png)
>
> ### 然后在同一路径下打开一个新的终端
>
> ### 查看当前运行的节点列表
>
> ```shell
> ros2 node list
> ```
>
> ![](http://picbed.yanzu.tech/img/learn_ros2/pic_16.png)
>
> ### 查看当前运行节点的信息
>
> ```shell
> ros2 node info /turtlesim
> ```
>
> ![](http://picbed.yanzu.tech/img/learn_ros2/pic_17.png)
>
> ### 其中，订阅者里的 /turtle1/cmd_vel 话题是负责控制小海龟的，发布者里的 /turtle1/pose 是小海龟的实时位置信息
>
> ### 输出小海龟位置信息
>
> ```shell
> ros2 topic echo /turtle1/pose
> ```
>
> ![](http://picbed.yanzu.tech/img/learn_ros2/pic_18.png)
>
> ### 小海龟的位置信息包含五个参数，坐标(x, y)，头的朝向的角度 theta，线速度 linear_velocity，角速度 angular_velocity
>
> ### 获取某个话题的消息接口
>
> ```shell
> ros2 topic info /turtle1/cmd_vel
> ```
>
> ![](http://picbed.yanzu.tech/img/learn_ros2/pic_19.png)
>
> 
>
> ### 查看接口的详细定义
>
> ```shell
> ros2 interface show geometry_msgs/msg/Twist
> ```
>
> ![](http://picbed.yanzu.tech/img/learn_ros2/pic_20.png)
>
> ### 在确认某个节点的消息接口之后，可以直接对话题发布数据
>
> ### /turtle1/cmd_vel 是话题名，geometry_msgs/msg/Twist 消息接口，后面是 yaml 格式的数据，
>
> ```shell
> ros2 topic pub /turtle1/cmd_vel geometry_msgs/msg/Twist "{linear: {x: 0.5, y: 0.0} , angular: {z: 0.0}}"
> ```
>
> ### 如果同一时刻，有多个终端对该消息接口发布数据，那么小海龟的运动就会变得奇怪起来
>
> ![](http://picbed.yanzu.tech/img/learn_ros2/pic_21.png)
>
> 