---
title: Anaconda安装(Win10)
data: 2025-05-21 15:34:00
updated: 2025-07-16 11:41:00
type: DL
top_img:
cover: http://picbed.yanzu.tech/img/post_cover/p15.png
tags:
  - DL
  - Learning
  - Pytorch
---


# Anaconda安装

### 1.下载安装包，直接国内镜像资源，这里下载的是 Anaconda3-2022.10-Windows-x86_64.exe 版本

> https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/



### 2.安装好之后配置环境变量---系统变量中的path，Anaconda是安装在E:\Anaconda3文件下的

> #### 分别添加以下三个变量
>
> #### E:\Anaconda3
>
> #### E:\Anaconda3\Scripts
>
> #### E:\Anaconda3\Library\bin



#### 3.在base环境下添加一个虚拟环境

> #### 打开 Anaconda Prompt（Anaconda3）这个命令框
>
> #### 列出当前所有的环境
>
> ```shell
> conda env list
> ```
>
>#### 创建一个虚拟环境，并指定python版本，这里新建的虚拟环境默认是会保存在Anaconda/envs/ 路径下
> 
>```shell
> conda create  -n env_name python=3.9
> ```
> 
>#### 如果不是保存在Anaconda/envs/下，就要手动指定位置了
>
> ```
>conda create  --prefix=path\env_name python=3.9
> ```
> 
> #### 删除某个虚拟环境，但这个叫 env_name 的文件还在，需要手动删除
>
>```shell
> conda remove -n env_name --all
>```
> 
> #### 进入某个虚拟环境
> 
>```shell
>conda activate env_name
> ```



### 4.进入某个虚拟环境

> #### 列出当前虚拟环境下的所有库
>
> ```shell
> conda list
> ```
>
>#### 安装Numpy，并指定版本为1.21.5
> 
>```shell
> pip install numpy==1.21.5 -i https://pypi.tuna.tsinghua.edu.cn/simple
> ```
> 
>#### 安装pandas，并指定版本为1.2.4
> 
>```shell
> pip install Pandas==1.2.4 -i https://pypi.tuna.tsinghua.edu.cn/simple
> ```
> 
>#### 安装Matplotlib，并指定版本为3.5.1
> 
>```shell
> pip install Matplotlib==3.5.1 -i https://pypi.tuna.tsinghua.edu.cn/simple
> ```
> 
>#### 查看当前虚拟环境下某个库的版本，如 numpy
> 
>```shell
> pip show numpy
> ```
> 
>#### 退出当前虚拟环境
> 
>```shell
> conda deactivate
> ```



### 5.安装cuda

> #### 这里安装的是11.3版本的
>
> https://developer.nvidia.com/cuda-toolkit-archive
>
> #### 点击跳转后，选择操作系统依次选择
>
> > Windows
> > x86_64
> > 10
> > exe(local)
>
> #### 2.7G，慢慢下吧
>
> #### 下载好之后，将其放在E:\CUDA\下，并创建一个Temp文件用于存储临时缓存
>
> #### 开始安装
>
> #### 选择路径为E:\CUDA\Temp\
>
> #### 然后等待完成
>
> #### 安装选项 --- 选择自定义
>
> #### 自定义安装选项 --- 只勾选 CUDA 且取消勾选CUDA中的 VS 选项
>
> #### 完成选择默认路径保存---也就是C盘（裂开）
>
> #### 安装完成后，可以E:\CUDA\这个文件删除了
>
> #### 配置环境变量
>
> > 依次添加以下四个系统变量
> > C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA
> > C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.3\lib\x64
> > C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.3\bin
> > C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.3\libnvvp
>
> #### 最后在命令行中输入以下命令查看CUDA版本
>
> ```shell
> nvcc -V
> ```



### 6.安装pytorch

> #### pytorch 分为三部分：torch、torchversion、torchaudio，其中torch是主要的
>
> #### 先进入该页面
>
> https://pytorch.org/get-started/previous-versions/
>
> #### ctrl + f 搜索 pip install torch==1.12.0
>
> #### 找到 CUDA 11.3版本的安装命令
>
> ```shell
> pip install torch==1.12.0+cu113 torchvision==0.13.0+cu113 torchaudio==0.12.0 --extra-index-url https://download.pytorch.org/whl/cu113
> ```
>
> #### 这里并不直接执行该命令下载安装，而是手动安装
>
> #### 打开 https://download.pytorch.org/whl/cu113 页面
>
> #### 根据命令中，三个库的版本去分别下载
>
> #### 如，找到 torch 文件，打开，搜索 1.12.0+cu113
>
> ![](http://picbed.yanzu.tech/img/DL/1/1.png)
>
> #### 选择cp39，也即是python3.9版本的win
>
> #### 其余两个同理
>
> #### 下载好之后，将三个 .whl 文件放在 E:\whl\下
>
> #### 然后将其安装到之前创建的虚拟环境 DL 下
>
> ```shell
> conda activate DL
> ```
>
> #### 然后
>
> ```
> pip install E:\whl\torch-1.12.0+cu113-cp39-cp39-win_amd64.whl
> pip install E:\whl\torchaudio-0.12.0+cu113-cp39-cp39-win_amd64.whl
> pip install E:\whl\torchvision-0.13.0+cu113-cp39-cp39-win_amd64.whl
> ```
>
> #### 安装好之后，可以查看是否安装成功
>
> ```shell
> conda list
> ```
>
> ![](http://picbed.yanzu.tech/img/DL/1/2.png)
>
> #### 也可以在当前虚拟环境下进入python编辑器，
>
> ```shell
> python
> ```
>
> #### 进入python编辑器后，导入torch
>
> ```python
> import torch
> ```
>
> #### 导入成功就说明安装成功了的，否则就得再折腾
>
> #### 再执行
>
> ```python
> torch.cuda.is_available()
> ```
>
> #### 会输出 True



### 7.修改 Jupyter 的默认工作路径

> #### Jupyter 默认的工作路径是 C:\Uses\用户名，将其改为 E:\Jupyter
>
> #### 打开 Anaconda Prompt，执行
>
> ```shell
> jupyter notebook --generate-config
> ```
>
> #### 进入生成的文件的地址，编辑 jupyter_notebook_config.py 文件
>
> #### 查找 c.NotebookApp.notebook_dir 这一行
>
> #### 将其取消注释，然后 '' 里的内容就是新的文件路径，这里是 E:\Jupyter ，这个文件要事先创建好
>
> #### 最后，jupyter的桌面快捷方式右键属性，快捷方式 --> 目标，将末尾的 %USERPROFILE% 删除，以及前面的空格，就可以了



### 8.修改 Jupyter 的字体

> #### 打开文件 
>
> #### E:\Anaconda3\Lib\site-packages\notebook\static\components\codemirror\lib
>
> #### 编辑 codemirror.css 文件
>
> #### 找到 font-family: 
>
> #### 将其改为
>
> ```css
> font-family: 'Fira Code Light','Consolas';
> ```



### 9.虚拟环境连接 Jupyter

> #### 打开 Anaconda Prompt，进入虚拟环境 DL
>
> ```shell
> conda activate DL
> ```
>
> #### 安装 ipykernel
>
> ```shell
> pip install ipykernel -i https://pypi.tuna.tsinghua.edu.cn/simple
> ```
>
> #### 将虚拟环境导入到 Jupyter 的 kernel 中
>
> ```
> python -m ipykernel install --user --name=DL
> ```
>
> #### 再次打开 Jupyter 就可以选择 DL 环境了
>
> ![](http://picbed.yanzu.tech/img/DL/1/3.png)
>
> 
>
> #### 补充：
>
> > #### 要在某个虚拟环境下使用jupyter，可以这样设置
> >
> > #### 打开Anaconda prompt，进入该虚拟环境
> >
> > #### 在该环境下，下载一个包
> >
> > ```shell
> > conda install nb_conda
> > ```
> >
> > #### 下载好之后，再执行
> >
> > ```shell
> > jupyter notebook
> > ```
> >
> > #### 就可以在当前环境下打开jupyter了



### 10.虚拟环境连接pycharm

> #### 创建一个新文件夹 E:\project_of_py
>
> #### 打开 pycharm
>
> #### 选择新建 New project
>
> #### 这里是最新版本的pycharm，25版的
>
> #### 点击 location，选择新创建的文件夹
>
> #### 再点击 Base conda，选择 Anaconda\Scripts\下的 conda.exe
>
> #### 然后直接点击 Create
>
> ![](http://picbed.yanzu.tech/img/DL/1/4.png)
>
> #### 创建之后会进入项目界面
>
> #### 点击右下角的解释器名称
>
> #### 点击 Add New Interpreter --> Add Local Interpreter
>
> ![](http://picbed.yanzu.tech/img/DL/1/5.png)
>
> #### 点击 Select existing
>
> #### Type 选择 Conda
>
> ![](http://picbed.yanzu.tech/img/DL/1/6.png)
>
> #### 选择 Anaconda\Scripts\下的 conda.exe，然后点击 Reload environments，它会检测到已经创建的虚拟环境，这里是叫 DL，然后 OK
>
> ![](http://picbed.yanzu.tech/img/DL/1/7.png)
>
> #### 右下角就会显示当前的解释器是DL
>
> ![](http://picbed.yanzu.tech/img/DL/1/8.png)
>
> #### 随便创建一个 py 文件，测试一下这个环境能否正常执行 py 文件
>
> ![](http://picbed.yanzu.tech/img/DL/1/9.png)
>
> #### 勾选 Run with python Console
>
> #### 依次点击 demo_00 --> Edit Configurations
>
> ![](http://picbed.yanzu.tech/img/DL/1/10.png)
>
> #### 再点击 Modify options，然后勾选 Run with python Console
>
> ![](http://picbed.yanzu.tech/img/DL/1/11.png)
>
> #### 运行demo_00之后右下角就有各变量的情况
>
> ![](http://picbed.yanzu.tech/img/DL/1/12.png)
>
> #### 这个demo_00顺便检测了一下，pycharm 是否与 GPU 版本的 pytorch 连接成功
>
> 